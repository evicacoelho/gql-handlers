import requests
from recruiterPermissions import recruiterPermissions

# endpoint
url = "https://apigw.prod.empregoligado.net/greg/graphql"

token = "eyJhbGciOiJIUzI1NiJ9.eyJleHAiOjE3MzAyMDg3NDQsInJvbGVfdHlwZSI6IlNVUFBPUlQiLCJjb21wYW55X2lkIjoyMzQ3LCJpZCI6MTE0NCwicmFuayI6ImFkbWluIn0.VkAADklUfWl6ucXlAOOA7Vue2TWTCKbLKAfeoxW5ZtU"

headers = {
    "Accept-Encoding": "gzip, deflate, br",
    "Content-Type": "application/json",
    "Accept": "application/json",
    "Connection": "keep-alive",
    "DNT": "1",
    "Origin": "https://apigw.prod.empregoligado.net",
    "Authorization": token
}

role = "custom"
permissions = [
    "job_manage_own",
    "candidate_manage_own"
]
ids = [
    8569,8627,9285,9278,8255,7818,9279,9367,11287,9376,
    8140,8939,9388,9389,9390,9391,9392,9394,8259,8256,
    11121,11122,11126,10912,10913,8954,8480,9530,8126,8250,
    9531,8812,9532,8497,8046,8827,8833,8481,8873,8886,
    8128,9572,8927,8445,8449,8464,8610,8448,8447,9507,
    8150,8258,8268,5875,9178,9179,8479,9180,8552,7785,
    8637,9188,9189,8482,8640,8555,8638,8642,8557,8560,
    8641,8477,8643,8489,8483,8484,8563,8561,8562,8494,
    8485,8491,8498,8492,8495,8245,7828,7805,7801,7808,
    7825,7816,7814,7826,7807,7811,8496,7809,6036,8249,
    8502,7883,7881,8254,8257,8263,8501,8269,8273,8272,
    9650,9657,9653,9676,9703,6045,8440,8466,8519,8512,
    8607,8313,8645,7879,8266,7891,8500,8474,8125,8134,
    8133,8131,8138,8142,8172,8168,8160,8164,8166,5907,
    7887,8509,8274,8277,8244,8279,8252,8243,7922,8262,
    8267,8270,8271,8275,8278,8280,6046,8247,8248,7795,
    7784,7786,7792,7788,7796,7799,7798,5861,5859,5970,
    7794,6048,6043,6037,6016,6047,5969,6049,6042,6040,
    6039,6034,6050,8476,11260,8510,8441,8443,8444,8442,
    8439,8450,8451,8452,6015,8446,8455,8456,8457,8458,
    8454,7819,8170,8162,8189,8265,6014,6038,8478,8465,
    8511,8493,8468,8487,8469,8470,8471,8472,8488,8300,
    8473,8486,6035,5908,8463,8467,8499,8264,7790,8521,
    8520,8459,8528,8529,8532,8533,8553,8534,8525,8535,
    8536,8551,8538,8539,8546,8541,8543,8542,8253,8545,
    8549,8554,8550,8559,8537,8579,8584,8604,8605,8606,
    8608,8635,8611,8612,8613,8629,8614,8540,8609,8622,
    8616,8630,8623,8620,8624,8639,8625,8631,8626,8636,
    8628,8632,8633,8634,8646,8647,8648,8649,8651,8652,
    8653,8654,8655,8656,8678,8658,8659,8660,8661,8662,
    8684,8682,8680,8681,8683,8697,8657,8679,8650,8721,
    8741,8740,8438,8437,8773,9393,9722,9723,9724,9725,
    9726,9368,9721,10726,10727,8251,9628,9630,10741,6044,
    9629,9633,10740,10743,10742,10745,10744,8116,10763,10748,
    10797,10798,7803,7885,10825,8556,7827,8558,9631,10997,
    10890,8644,7783,11553,8276,8544,10998,5860,6051,11554,
    8475,8507,8136,8242,8246,8260,8261,8453,8508,8490,
    5968,11277,11555,8617,8227,11070,11278,11081,10902,10903,
    10904,10905,10906,10907,10908,10911,11082,11091,11092,11109
]
mutation = recruiterPermissions

# Request
for id_value in ids:
    # Define variables for each ID
    variables = {
        "id": id_value,
        "role": role,
        "permissions": permissions
    }

    # Send the POST request with JSON payload, query parameters, and headers
    response = requests.post(
        url,
        headers=headers,
        json={'query': mutation, 'variables': variables}
    )

    # Check if the request was successful
    if response.status_code == 200:
        # Print the JSON response for each ID
        print(f"Response for ID {id_value}: {response.json()}")
    else:
        print(f"Mutation failed for ID {id_value} with status code {response.status_code}. {response.text}")